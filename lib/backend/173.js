/*! For license information please see 173.js.LICENSE.txt */
exports.id=173,exports.ids=[173],exports.modules={78:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryMessagePipe=void 0;const n=r(2252),i=r(30140);class s{constructor(e){this.underlyingPipe=e,this.dataHandler=e=>this.handleChunk(e),this.onMessageEmitter=new n.Emitter,this.cachedMessageData={chunks:[],missingBytes:0},e.on("data",this.dataHandler)}get onMessage(){return this.onMessageEmitter.event}send(e){this.underlyingPipe.write(this.encodeMessageStart(e)),this.underlyingPipe.write(e)}handleChunk(e){0===this.cachedMessageData.missingBytes?this.handleNewMessage(e):this.handleMessageContentChunk(e)}handleNewMessage(e){if(e.byteLength<this.messageStartByteLength)return void(this.cachedMessageData.partialMessageStart=e);const t=this.readMessageStart(e);if(e.length-this.messageStartByteLength>t){const r=e.slice(this.messageStartByteLength,this.messageStartByteLength+t);this.onMessageEmitter.fire(r),this.handleNewMessage(e.slice(this.messageStartByteLength+t))}else e.length-this.messageStartByteLength===t?this.onMessageEmitter.fire(e.slice(this.messageStartByteLength)):(this.cachedMessageData.chunks=[e.slice(this.messageStartByteLength)],this.cachedMessageData.missingBytes=t-e.byteLength+this.messageStartByteLength)}handleMessageContentChunk(e){if(this.cachedMessageData)if(e.byteLength<this.cachedMessageData.missingBytes)this.cachedMessageData.chunks.push(e),this.cachedMessageData.missingBytes-=e.byteLength;else if(e.byteLength===this.cachedMessageData.missingBytes)this.cachedMessageData.chunks.push(e),this.emitCachedMessage();else{const t=this.cachedMessageData.missingBytes,r=e.slice(0,t);this.cachedMessageData.chunks.push(r),this.emitCachedMessage(),this.handleNewMessage(e.slice(t))}}emitCachedMessage(){const e=Buffer.concat(this.cachedMessageData.chunks);this.onMessageEmitter.fire(e),this.cachedMessageData.chunks=[],this.cachedMessageData.missingBytes=0}encodeMessageStart(e){const t=(new i.Uint8ArrayWriteBuffer).writeString(s.MESSAGE_START_IDENTIFIER).writeUint32(e.length),r=t.getCurrentContents();return t.dispose(),r}get messageStartByteLength(){return 4+s.MESSAGE_START_IDENTIFIER.length+4}readMessageStart(e){const t=this.cachedMessageData.partialMessageStart?Buffer.concat([this.cachedMessageData.partialMessageStart,e]):e;this.cachedMessageData.partialMessageStart=void 0;const r=new i.Uint8ArrayReadBuffer(t),n=r.readString();if(n!==s.MESSAGE_START_IDENTIFIER)throw new Error(`Could not read message start. The start identifier should be '${s.MESSAGE_START_IDENTIFIER}' but was '${n}`);return r.readUint32()}dispose(){this.underlyingPipe.removeListener("data",this.dataHandler),this.underlyingPipe.end(),this.onMessageEmitter.dispose(),this.cachedMessageData={chunks:[],missingBytes:0}}}t.BinaryMessagePipe=s,s.MESSAGE_START_IDENTIFIER="<MessageStart>"},19161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPCChannel=void 0;const n=r(41808),i=r(2252),s=r(30140),o=r(78);class a extends i.AbstractChannel{constructor(e){super(),this.ipcErrorListener=e=>this.onErrorEmitter.fire(e),e?this.setupChildProcess(e):this.setupProcess(),this.messagePipe.onMessage((e=>{this.onMessageEmitter.fire((()=>new s.Uint8ArrayReadBuffer(e)))}))}setupChildProcess(e){e.once("exit",(e=>this.onCloseEmitter.fire({reason:"Child process has been terminated",code:null!=e?e:void 0}))),this.messagePipe=new o.BinaryMessagePipe(e.stdio[4]),e.on("error",this.ipcErrorListener),this.toDispose.push(i.Disposable.create((()=>{e.removeListener("error",this.ipcErrorListener),this.messagePipe.dispose()})))}setupProcess(){process.once("beforeExit",(e=>this.onCloseEmitter.fire({reason:"Process is about to be terminated",code:e}))),this.messagePipe=new o.BinaryMessagePipe(new n.Socket({fd:4})),process.on("uncaughtException",this.ipcErrorListener),this.toDispose.push(i.Disposable.create((()=>{process.removeListener("uncaughtException",this.ipcErrorListener),this.messagePipe.dispose()})))}getWriteBuffer(){const e=new s.Uint8ArrayWriteBuffer;return e.onCommit((e=>{this.messagePipe.send(e)})),e}}t.IPCChannel=a},38369:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIpcEnv=t.checkParentAlive=t.IPCEntryPoint=t.ipcEntryPoint=void 0;const r="THEIA_PARENT_PID",n="THEIA_ENTRY_POINT";t.ipcEntryPoint=process.env[n],function(e){e.getScriptFromEnv=function(){if(!t.ipcEntryPoint)throw new Error(`"${n}" is missing from the environment`);return t.ipcEntryPoint}}(t.IPCEntryPoint||(t.IPCEntryPoint={})),t.checkParentAlive=function(){if(process.env[r]){const e=Number(process.env[r]);"number"!=typeof e||isNaN(e)||setInterval((()=>{try{process.kill(e,0)}catch{process.exit()}}),5e3)}},t.createIpcEnv=function(e){const t=Object.assign({},e),i=Object.assign({},t.env);for(const e of Object.keys(i))e.startsWith("THEIA_")&&delete i[e];return i[r]=String(process.pid),i[n]=t.entryPoint,i}},21714:()=>{var e;!function(e){!function(t){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:n=i(r.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,u={create:s?function(){return ne(Object.create(null))}:o?function(){return ne({__proto__:null})}:function(){return ne({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),h="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,p=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,y=new(h||"function"!=typeof WeakMap?re():WeakMap);function l(e,t,r,n){if(x(r)){if(!z(e))throw new TypeError;if(!$(t))throw new TypeError;return P(e,t)}if(!z(e))throw new TypeError;if(!N(t))throw new TypeError;if(!N(n)&&!x(n)&&!j(n))throw new TypeError;return j(n)&&(n=void 0),k(e,t,r=H(r),n)}function d(e,t){function r(r,n){if(!N(r))throw new TypeError;if(!x(n)&&!V(n))throw new TypeError;O(e,t,r,n)}return r}function g(e,t,r,n){if(!N(r))throw new TypeError;return x(n)||(n=H(n)),O(e,t,r,n)}function v(e,t,r){if(!N(t))throw new TypeError;return x(r)||(r=H(r)),T(e,t,r)}function _(e,t,r){if(!N(t))throw new TypeError;return x(r)||(r=H(r)),A(e,t,r)}function w(e,t,r){if(!N(t))throw new TypeError;return x(r)||(r=H(r)),I(e,t,r)}function m(e,t,r){if(!N(t))throw new TypeError;return x(r)||(r=H(r)),D(e,t,r)}function E(e,t){if(!N(e))throw new TypeError;return x(t)||(t=H(t)),B(e,t)}function M(e,t){if(!N(e))throw new TypeError;return x(t)||(t=H(t)),C(e,t)}function b(e,t,r){if(!N(t))throw new TypeError;x(r)||(r=H(r));var n=S(t,r,!1);if(x(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=y.get(t);return i.delete(r),i.size>0||y.delete(t),!0}function P(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!x(n)&&!j(n)){if(!$(n))throw new TypeError;t=n}}return t}function k(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t,r,n);if(!x(s)&&!j(s)){if(!N(s))throw new TypeError;n=s}}return n}function S(e,t,r){var n=y.get(e);if(x(n)){if(!r)return;n=new f,y.set(e,n)}var i=n.get(t);if(x(i)){if(!r)return;i=new f,n.set(t,i)}return i}function T(e,t,r){if(A(e,t,r))return!0;var n=Z(t);return!j(n)&&T(e,n,r)}function A(e,t,r){var n=S(t,r,!1);return!x(n)&&K(n.has(e))}function I(e,t,r){if(A(e,t,r))return D(e,t,r);var n=Z(t);return j(n)?void 0:I(e,n,r)}function D(e,t,r){var n=S(t,r,!1);if(!x(n))return n.get(e)}function O(e,t,r,n){S(r,n,!0).set(e,t)}function B(e,t){var r=C(e,t),n=Z(e);if(null===n)return r;var i=B(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var s=new p,o=[],a=0,u=r;a<u.length;a++){var c=u[a];s.has(c)||(s.add(c),o.push(c))}for(var h=0,f=i;h<f.length;h++){c=f[h];s.has(c)||(s.add(c),o.push(c))}return o}function C(e,t){var r=[],n=S(e,t,!1);if(x(n))return r;for(var i=q(n.keys()),s=0;;){var o=Q(i);if(!o)return r.length=s,r;var a=J(o);try{r[s]=a}catch(e){try{X(i)}finally{throw e}}s++}}function L(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function x(e){return void 0===e}function j(e){return null===e}function R(e){return"symbol"==typeof e}function N(e){return"object"==typeof e?null!==e:"function"==typeof e}function U(e,t){switch(L(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=Y(e,n);if(void 0!==i){var s=i.call(e,r);if(N(s))throw new TypeError;return s}return F(e,"default"===r?"number":r)}function F(e,t){if("string"===t){var r=e.toString;if(G(r))if(!N(i=r.call(e)))return i;if(G(n=e.valueOf))if(!N(i=n.call(e)))return i}else{var n;if(G(n=e.valueOf))if(!N(i=n.call(e)))return i;var i,s=e.toString;if(G(s))if(!N(i=s.call(e)))return i}throw new TypeError}function K(e){return!!e}function W(e){return""+e}function H(e){var t=U(e,3);return R(t)?t:W(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function G(e){return"function"==typeof e}function $(e){return"function"==typeof e}function V(e){switch(L(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var r=e[t];if(null!=r){if(!G(r))throw new TypeError;return r}}function q(e){var t=Y(e,i);if(!G(t))throw new TypeError;var r=t.call(e);if(!N(r))throw new TypeError;return r}function J(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,s)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function s(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function re(){var e=16,r=u.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+c()}while(u.has(r,e));return r[e]=!0,e}function s(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:u.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function c(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}function ne(e){return e.__=void 0,delete e.__,e}e("decorate",l),e("metadata",d),e("defineMetadata",g),e("hasMetadata",v),e("hasOwnMetadata",_),e("getMetadata",w),e("getOwnMetadata",m),e("getMetadataKeys",E),e("getOwnMetadataKeys",M),e("deleteMetadata",b)}(n)}()}(e||(e={}))}};