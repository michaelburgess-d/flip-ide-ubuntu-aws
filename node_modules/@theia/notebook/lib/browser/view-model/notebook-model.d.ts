import { Disposable, Emitter, URI } from '@theia/core';
import { Saveable, SaveOptions } from '@theia/core/lib/browser';
import { CellEditOperation, NotebookData, NotebookDocumentMetadata, NotebookModelWillAddRemoveEvent, NotebookTextModelChangedEvent } from '../../common';
import { NotebookSerializer } from '../service/notebook-service';
import { FileService } from '@theia/filesystem/lib/browser/file-service';
import { NotebookCellModel, NotebookCellModelFactory } from './notebook-cell-model';
import { MonacoTextModelService } from '@theia/monaco/lib/browser/monaco-text-model-service';
import { interfaces } from '@theia/core/shared/inversify';
import { NotebookKernel } from '../service/notebook-kernel-service';
import { UndoRedoService } from '@theia/editor/lib/browser/undo-redo-service';
export declare const NotebookModelFactory: unique symbol;
export declare function createNotebookModelContainer(parent: interfaces.Container, props: NotebookModelProps): interfaces.Container;
export interface NotebookModelProps {
    data: NotebookData;
    uri: URI;
    viewType: string;
    serializer: NotebookSerializer;
}
export declare class NotebookModel implements Saveable, Disposable {
    protected readonly onDirtyChangedEmitter: Emitter<void>;
    readonly onDirtyChanged: import("@theia/core").Event<void>;
    protected readonly onDidSaveNotebookEmitter: Emitter<void>;
    readonly onDidSaveNotebook: import("@theia/core").Event<void>;
    protected readonly onDidAddOrRemoveCellEmitter: Emitter<NotebookModelWillAddRemoveEvent>;
    readonly onDidAddOrRemoveCell: import("@theia/core").Event<NotebookModelWillAddRemoveEvent>;
    protected readonly onDidChangeContentEmitter: Emitter<NotebookTextModelChangedEvent>;
    readonly onDidChangeContent: import("@theia/core").Event<NotebookTextModelChangedEvent>;
    protected readonly fileService: FileService;
    protected readonly undoRedoService: UndoRedoService;
    protected props: NotebookModelProps;
    protected modelService: MonacoTextModelService;
    protected cellModelFactory: NotebookCellModelFactory;
    readonly autoSave: 'off' | 'afterDelay' | 'onFocusChange' | 'onWindowChange';
    nextHandle: number;
    kernel?: NotebookKernel;
    dirty: boolean;
    selectedCell?: NotebookCellModel;
    protected dirtyCells: NotebookCellModel[];
    cells: NotebookCellModel[];
    get uri(): URI;
    get viewType(): string;
    metadata: NotebookDocumentMetadata;
    initialize(): void;
    dispose(): void;
    save(options: SaveOptions): Promise<void>;
    createSnapshot(): Saveable.Snapshot;
    revert(options?: Saveable.RevertOptions): Promise<void>;
    isDirty(): boolean;
    cellDirtyChanged(cell: NotebookCellModel, dirtyState: boolean): void;
    undo(): void;
    redo(): void;
    setSelectedCell(cell: NotebookCellModel): void;
    private addCellOutputListeners;
    applyEdits(rawEdits: CellEditOperation[], computeUndoRedo: boolean): void;
    private replaceCells;
    private changeCellInternalMetadataPartial;
    private updateNotebookMetadata;
    private changeCellLanguage;
    private moveCellToIndex;
    private getCellIndexByHandle;
}
//# sourceMappingURL=notebook-model.d.ts.map